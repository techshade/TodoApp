import{c as T,j as e,r as d,U as b,M as A,T as w,aE as E,aG as v,aJ as R,x as B,aK as h,a$ as m,f as H,g as L,h as F,I as z,J as p,K as u,b0 as I,aH as U,aI as J,a2 as K,E as N}from"./index-DHRrVd1t.js";const Y=T(e.jsx("path",{d:"M16 16h2c.55 0 1 .45 1 1s-.45 1-1 1h-2c-.55 0-1-.45-1-1s.45-1 1-1m0-8h5c.55 0 1 .45 1 1s-.45 1-1 1h-5c-.55 0-1-.45-1-1s.45-1 1-1m0 4h4c.55 0 1 .45 1 1s-.45 1-1 1h-4c-.55 0-1-.45-1-1s.45-1 1-1M3 18c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V8H3zM13 5h-2l-.71-.71c-.18-.18-.44-.29-.7-.29H6.41c-.26 0-.52.11-.7.29L5 5H3c-.55 0-1 .45-1 1s.45 1 1 1h10c.55 0 1-.45 1-1s-.45-1-1-1"}),"DeleteSweepRounded"),$=T(e.jsx("path",{d:"M17.3 6.3a.9959.9959 0 0 0-1.41 0l-5.64 5.64 1.41 1.41L17.3 7.7c.38-.38.38-1.02 0-1.4m4.24-.01-9.88 9.88-3.48-3.47a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.02 0 1.41l4.18 4.18c.39.39 1.02.39 1.41 0L22.95 7.71c.39-.39.39-1.02 0-1.41h-.01c-.38-.4-1.01-.4-1.4-.01M1.12 14.12 5.3 18.3c.39.39 1.02.39 1.41 0l.7-.7-4.88-4.9a.9959.9959 0 0 0-1.41 0c-.39.39-.39 1.03 0 1.42"}),"DoneAllRounded"),V=()=>{const{user:l,setUser:f}=d.useContext(b),{tasks:o}=l,[a,g]=A([],"tasksToPurge","sessionStorage"),[D,r]=d.useState(!1);d.useEffect(()=>{document.title="Todo App - Purge tasks"},[]);const c=o.filter(s=>s.done),x=o.filter(s=>!s.done),j=new Intl.ListFormat("en",{style:"long",type:"conjunction"}).format(a.map(s=>{const t=l.tasks.find(n=>n.id===s);return t?t.name:""})),y=s=>{g(t=>t.includes(s)?t.filter(n=>n!==s):[...t,s])},i=s=>{const t=l.tasks.filter(n=>!s.some(M=>M===n));g([]),f(n=>({...n,tasks:t}))},C=()=>{const s=o.filter(t=>a.includes(t.id));i(s),u(e.jsxs("div",{children:["Purged selectedTasks tasks: ",e.jsx("b",{translate:"no",children:j})]}))},P=()=>{i(c),u("Purged all done tasks.")},S=()=>{r(!0)},k=(s,t)=>e.jsxs(e.Fragment,{children:[e.jsx(I,{sx:{fontWeight:500,my:"4px"},children:t}),s.map(n=>e.jsxs(U,{backgroundClr:n.color,onClick:()=>y(n.id),selected:a.includes(n.id),translate:"no",children:[e.jsx(J,{size:"medium",checked:a.includes(n.id)}),e.jsxs(K,{variant:"body1",component:"span",sx:{display:"flex",alignItems:"center",gap:"6px",wordBreak:"break-word"},children:[e.jsx(N,{size:24,unified:n.emoji||"",emojiStyle:l.emojisStyle})," ",n.name]})]},n.id))]});return e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"Purge Tasks"}),e.jsx(E,{children:"Select Tasks To Purge"}),e.jsxs(v,{children:[c.length>0&&k(c,"Done Tasks"),x.length>0&&k(x,"Not Done Tasks"),o.length===0&&e.jsx("h3",{style:{opacity:.8,fontStyle:"italic"},children:"You don't have any tasks to purge"})]}),e.jsxs(R,{children:[e.jsx(B,{title:a.length>0?e.jsxs("div",{children:[e.jsx("span",{children:"Selected Tasks: "}),e.jsx("span",{translate:"no",children:j})]}):void 0,children:e.jsxs(h,{onClick:C,disabled:a.length===0,children:[e.jsx(Y,{}),"   Purge Selected"," ",a.length>0&&`[${a.length}]`]})}),e.jsxs(h,{onClick:P,disabled:c.length===0,children:[e.jsx($,{}),"   Purge Done"]}),e.jsxs(h,{color:"error",onClick:S,disabled:o.length===0,children:[e.jsx(m,{}),"   Purge All Tasks"]})]}),e.jsxs(H,{open:D,onClose:()=>r(!1),children:[e.jsx(L,{children:"Are You sure you want to pure all of your tasks?"}),e.jsx(F,{children:"This action cannot be undone. Are you sure you want to proceed?"}),e.jsxs(z,{children:[e.jsx(p,{onClick:()=>r(!1),children:"Cancel"}),e.jsxs(p,{color:"error",onClick:()=>{i(o),r(!1),u("Purged all tasks")},children:[e.jsx(m,{}),"   Purge"]})]})]})]})};export{V as default};
