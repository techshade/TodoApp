import{c as H,j as e,r as n,M as E,N as A,O as $,Q as z,_ as R,U as P,S as _,b as N,V as W,E as G,W as Y,X as K,Y as U,Z as B,$ as I,a0 as V,a1 as F,a2 as q,a3 as Q,a4 as X,a5 as Z,x as J,a6 as ee,a7 as te}from"./index-DHRrVd1t.js";import{T as se}from"./TodayRounded-CBYr_2U8.js";const ne=H(e.jsx("path",{d:"M22.99 9C19.15 5.16 13.8 3.76 8.84 4.78l2.52 2.52c3.47-.17 6.99 1.05 9.63 3.7zm-4 4c-1.29-1.29-2.84-2.13-4.49-2.56l3.53 3.53zM2 3.05 5.07 6.1C3.6 6.82 2.22 7.78 1 9l1.99 2c1.24-1.24 2.67-2.16 4.2-2.77l2.24 2.24C7.81 10.89 6.27 11.73 5 13v.01L6.99 15c1.36-1.36 3.14-2.04 4.92-2.06L18.98 20l1.27-1.26L3.29 1.79zM9 17l3 3 3-3c-1.65-1.66-4.34-1.66-6 0"}),"WifiOff"),oe=()=>{const t=new Date().getHours();let i;return t<12&&t>=5?i="Good morning":t<18&&t>12?i="Good afternoon":i="Good evening",i},L=()=>{const o=24-new Date().getHours(),t=["Let's make today count! **1f680**","Get things done and conquer the day!","Embrace the power of productivity!","Set your goals, crush them, repeat.","Today is a new opportunity to be productive!","Make every moment count.","Stay organized, stay ahead.","Take charge of your day!","One task at a time, you've got this!","Productivity is the key to success. **1f511**","Let's turn plans into accomplishments!","Start small, achieve big.","Be efficient, be productive.","Harness the power of productivity!","Get ready to make things happen!","It's time to check off those tasks! **2705**","Start your day with a plan! **1f5d3-fe0f**","Stay focused, stay productive.","Unlock your productivity potential. **1f513**","Turn your to-do list into a to-done list! **1f4dd**",`Have a wonderful  ${new Date().toLocaleDateString("en",{weekday:"long"})}!`,`Happy ${new Date().toLocaleDateString("en",{month:"long"})}! A great month for productivity!`,o>4?`${o} hours left in the day. Use them wisely!`:`Only ${o} hours left in the day`],i=Math.floor(Math.random()*t.length);return t[i]},ae=o=>{switch(!0){case o===0:return"No tasks completed yet. Keep going!";case o===100:return"Congratulations! All tasks completed!";case o>=75:return"Almost there!";case o>=50:return"You're halfway there! Keep it up!";case o>=25:return"You're making good progress.";default:return"You're just getting started."}},re=({children:o})=>{const[t,i]=n.useState(null),[d,c]=n.useState(null),[S,m]=n.useState(null),[y,x]=n.useState(new Set),[u,T]=E([],"selectedTasks","sessionStorage"),[h,v]=E("","search","sessionStorage"),[w,C]=n.useState(!1),[g,k]=n.useState(!1),j=a=>{x(s=>{const r=new Set(s);return r.has(a)?r.delete(a):r.add(a),r})},D=a=>{c(null),T(s=>s.includes(a)?s.filter(r=>r!==a):[...s,a])},M=a=>h?a.split(new RegExp(`(${h})`,"gi")).map((r,O)=>r.toLowerCase()===h.toLowerCase()?e.jsx(z,{children:r},O):r):a,b=()=>{t&&k(!0)},l=A(),f={selectedTaskId:t,setSelectedTaskId:i,anchorEl:d,setAnchorEl:c,anchorPosition:S,setAnchorPosition:m,expandedTasks:y,setExpandedTasks:x,toggleShowMore:j,search:h,setSearch:v,highlightMatchingText:M,multipleSelectedTasks:u,setMultipleSelectedTasks:T,handleSelectTask:D,editModalOpen:w,setEditModalOpen:C,handleDeleteTask:b,deleteDialogOpen:g,setDeleteDialogOpen:k,handleCloseMoreMenu:()=>{c(null),document.body.style.overflow="visible",t&&!l&&y.has(t)&&j(t)}};return e.jsx($.Provider,{value:f,children:o})},ie=n.lazy(()=>R(()=>import("./TasksList-DZddTduQ.js"),__vite__mapDeps([0,1,2,3,4,5])).then(o=>({default:o.TasksList}))),ce=()=>{const{user:o}=n.useContext(P),{tasks:t,emojisStyle:i,settings:d,name:c}=o,[S,m]=n.useState(""),[y,x]=n.useState(0),[u,T]=n.useState(0),[h,v]=n.useState(0),[w,C]=n.useState([]),g=n.useMemo(()=>u/t.length*100,[u,t.length]),k=_(),j=N(),D=A();n.useEffect(()=>{m(L()),document.title="Todo App";const l=setInterval(()=>{m(L()),x(p=>p+1)},6e3);return()=>clearInterval(l)},[]),n.useEffect(()=>{const l=t.filter(s=>s.done).length;T(l);const p=new Date().setHours(0,0,0,0),f=t.filter(s=>s.deadline?new Date(s.deadline).setHours(0,0,0,0)===p&&!s.done:!1);v(f.length);const a=f.map(s=>s.name);C(a)},[t]);const M=l=>{const p=/\*\*(.*?)\*\*/g;return l.split(p).map((a,s)=>{if(s%2===1){const r=a.trim();return e.jsx(G,{size:20,unified:r,emojiStyle:i},s)}else return a})},b=l=>typeof l=="string"?M(l):l;return e.jsxs(e.Fragment,{children:[e.jsxs(W,{children:[e.jsx(G,{unified:"1f44b",emojiStyle:i}),"   ",oe(),c&&e.jsxs("span",{translate:"no",children:[", ",e.jsx("span",{children:c})]})]}),e.jsx(Y,{children:b(S)},y),!k&&e.jsxs(K,{children:[e.jsx(ne,{})," You're offline but you can use the app!"]}),t.length>0&&e.jsx(U,{children:e.jsxs(B,{glow:d[0].enableGlow,children:[e.jsxs(I,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(V,{variant:"determinate",value:g,size:64,thickness:5,"aria-label":"Progress",glow:d[0].enableGlow}),e.jsx(F,{glow:d[0].enableGlow&&g>0,children:e.jsx(q,{variant:"caption",component:"div",color:"white",sx:{fontSize:"16px",fontWeight:600},children:`${Math.round(g)}%`})})]}),e.jsxs(Q,{children:[e.jsx(X,{children:u===0?`You have ${t.length} task${t.length>1?"s":""} to complete.`:`You've completed ${u} out of ${t.length} tasks.`}),e.jsx(Z,{children:ae(g)}),h>0&&e.jsxs("span",{style:{opacity:.8,display:"inline-block"},children:[e.jsx(se,{sx:{fontSize:"20px",verticalAlign:"middle"}})," Tasks due today: ",e.jsx("span",{translate:"no",children:new Intl.ListFormat("en",{style:"long"}).format(w)})]})]})]})}),e.jsx(n.Suspense,{fallback:e.jsx("div",{children:"Loading..."}),children:e.jsx(re,{children:e.jsx(ie,{})})}),!D&&e.jsx(J,{title:t.length>0?"Add New Task":"Add Task",placement:"left",children:e.jsx(ee,{animate:t.length===0,glow:d[0].enableGlow,onClick:()=>j("add"),"aria-label":"Add Task",children:e.jsx(te,{style:{fontSize:"44px"}})})})]})};export{ce as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/TasksList-DZddTduQ.js","assets/index-DHRrVd1t.js","assets/index-BS98ZIQC.css","assets/useCtrlS-hhfr8Y4G.js","assets/formatDate-D_Tte-IX.js","assets/Delete-9XRJBhZd.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
